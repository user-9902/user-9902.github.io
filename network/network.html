<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>计算机网络 | DOCS</title>
    <meta name="description" content="this is docs by user-9902">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.BX3F-8pr.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CzPX8Hsf.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.CBza3mbp.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CPtCmog4.js">
    <link rel="modulepreload" href="/assets/chunks/1732843327250.DvQIYtMs.js">
    <link rel="modulepreload" href="/assets/network_network.md.CJK2TmXb.lean.js">
    <link rel="icon" href="/favicon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-8426fc1a><!--]--><span data-v-1168a8e4>DOCS</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/index.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/overview/readme.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>文档</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Overview</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/overview/readme.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>说明</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>前端</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/frontend/HTML.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>HTML</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/frontend/CSS.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>CSS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/frontend/JS.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>JS in Web</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/frontend/TS.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>TypeScript</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>计算机网络</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/network/network.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>network</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/network/http.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>HTTP</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/network/DNS.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>DNS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/network/Netsafe.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>网安</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>工程化</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/engineering/git.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Git</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/engineering/nginx.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Nginx</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/engineering/docker.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Docker</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>面经</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/for_interview/design_patterns.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>设计模式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/for_interview/outof01.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Out of 01</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>文章目录</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _network_network" data-v-39a288b8><div><h1 id="计算机网络" tabindex="-1">计算机网络 <a class="header-anchor" href="#计算机网络" aria-label="Permalink to &quot;计算机网络&quot;">​</a></h1><p><img src="/assets/1745463710266.DOJ_4AGC.jpg" alt=""></p><h2 id="什么是计算机网络" tabindex="-1">什么是计算机网络 <a class="header-anchor" href="#什么是计算机网络" aria-label="Permalink to &quot;什么是计算机网络&quot;">​</a></h2><p>计算机网络的定义：将众多分散的、自治的计算机系统，通过通信设备、线路链接起来，组成网络。在该网络系统中可以实现资源的共享与信息传递。</p><p>计算机网络所围绕的核心问题是：<strong>如何通过网络，将数据正确、可靠的从 A 传到 B</strong>。</p><h2 id="概念介绍" tabindex="-1">概念介绍 <a class="header-anchor" href="#概念介绍" aria-label="Permalink to &quot;概念介绍&quot;">​</a></h2><ul><li>计算机网络： <ul><li>集线器/交换机：将多个网络中的结点链接起来，组成计算机网络。</li></ul></li><li>互连网（internet： <ul><li>路由器：将两个或多个计算机网络连接起来，组成规模更大的计算机网络，称为互连网。</li><li>通讯协议，内部协商。</li></ul></li><li>互联网（Internet： <ul><li>也就所谓的公网，将全世界内的计算机网络组成起来的网络，ISP来提供组网服务。</li><li>必须使用 tcp/ip 协议来通讯（大家使用一种语言）。</li></ul></li></ul><p>（拓展：家用路由器 与 路由器 的区别？ 家用路由器 = 路由器 + 交换机 + 其他功能）</p><h2 id="计算机网络的组成" tabindex="-1">计算机网络的组成 <a class="header-anchor" href="#计算机网络的组成" aria-label="Permalink to &quot;计算机网络的组成&quot;">​</a></h2><p>计算机网络的构成</p><ul><li>硬件：主机（end system：电脑、服务器、手机）；通讯设备（交换机、调制解调器）；通讯链路（网线、光纤、同轴电缆）</li><li>软件：具体的应用程序（email客户端、聊天软件、机房nginx）</li><li>固件：预先烧录软件的软硬件（网卡固件）</li><li>协议：规定了软硬件的通讯规则（http、ftp）</li></ul><h5 id="网络分类方式" tabindex="-1">网络分类方式 <a class="header-anchor" href="#网络分类方式" aria-label="Permalink to &quot;网络分类方式&quot;">​</a></h5><p>重要性</p><ul><li><p>核心：通讯设备+通讯链路，即提供连通性、交换服务的部分。</p></li><li><p>边缘：终端设备</p></li><li><p>资源子网：终端设备上共享的软硬件资源，主要指终端。</p></li><li><p>通讯子网：负责信息传输的部分，通讯设备+通讯链路+协议。</p></li></ul><h4 id="计算机网络的功能" tabindex="-1">计算机网络的功能 <a class="header-anchor" href="#计算机网络的功能" aria-label="Permalink to &quot;计算机网络的功能&quot;">​</a></h4><ul><li>数据通讯：最基本、最重要的功能</li><li>资源共享：硬件、软件、数据资源</li><li>分布式处理：任务分发</li><li>提高可靠性：数据冗余</li><li>负载均衡：</li></ul><h2 id="分组交换" tabindex="-1">分组交换 <a class="header-anchor" href="#分组交换" aria-label="Permalink to &quot;分组交换&quot;">​</a></h2><p><img src="/assets/1726627547438.DSq3_BfB.jpg" alt=""></p><p>​ （上图从左至右为： 电路交换 报文交换 分组交换）</p><p>在分组交换诞生之前，存在两种交换技术，电路交换，报文交换。</p><ul><li><p>电路交换：</p><p>即电话机网络，通过物理连接的方式以实现数据交换（交换中心接线员）。</p><p>​ 优点：通讯双方独占线路资源，数据直连，通讯效率高。</p><p>​ 缺点：建立/释放连接存在额外开销；线路独占，整个网络效率低；线路分配灵活性差；无差错处理。</p></li><li><p>报文交换：</p></li></ul><p>​ 即电报网络，直接将报文数据交给交换机，报文交换机负责存储转发。</p><p>​ 优点：通讯双方无需建立链接；可以处理差错。</p><p>​ 缺点：报文不定长，长报文存储转发开销大，出错重传代价高。</p><ul><li><p>分组交换：</p><p>参考了报文交换技术。通过对报文进行分组，解决了长报文的问题。</p><p>​ 优点：分组定长，缓存开销小；重传代价低。</p><p>​ 缺点：每个分组都需要存储控制信息（组号等），总的控制信息增加。</p></li></ul><p>补充：虚拟电路交换：参考电路交换的分组交换技术。建立虚拟链接，分组传送报文。但其对分组管理的成本落在通讯设备上，通讯子网负担高。分组交换对分组的管理成本落在终端上。</p><p><strong>按分布范围分</strong></p><p><img src="/assets/1726629357897.Bn4z-Y82.jpg" alt=""></p><table tabindex="0"><thead><tr><th>名称</th><th>范围</th><th>通讯协议</th></tr></thead><tbody><tr><td>广域网 WAN</td><td>几十千米-几千千米（跨省/国家）</td><td></td></tr><tr><td>城域网 MAN</td><td>几千米-几十千米（城市间）</td><td>以太网</td></tr><tr><td>局域网 LAN</td><td>几十米-几千米 （学校/企业）</td><td>以太网</td></tr><tr><td>个域网 PAN WPAN</td><td>几十米内（个人/家庭）</td><td></td></tr></tbody></table><p>按传输技术分</p><p>广播式</p><p>点对点</p><p>按拓扑结构分类</p><table tabindex="0"><thead><tr><th>结构</th><th>特点</th><th>案例</th></tr></thead><tbody><tr><td>总线型结构</td><td>广播网络，存在总线竞争问题</td><td>集线器</td></tr><tr><td>环型结构</td><td>广播令牌在环中轮询</td><td>令牌环网</td></tr><tr><td>星型结构</td><td>与中心设备点对点传输，不存在总线竞争问题</td><td>以太网交换机</td></tr><tr><td>网状结构</td><td>众多路由器构建</td><td>广域网</td></tr></tbody></table><p>按使用者</p><p>公网 专网</p><p>按传输介质</p><p>有线 无线</p><h4 id="计算机网络的性能" tabindex="-1">计算机网络的性能 <a class="header-anchor" href="#计算机网络的性能" aria-label="Permalink to &quot;计算机网络的性能&quot;">​</a></h4><p>速率：网络上的节点在信道上传输数据的速率。（字节 B/s 比特 b/s</p><p>带宽：网络中信道所能通过的最高速率。（通讯工程中：带宽指的是频率范围</p><p>吞吐量：通过网络接口、信道的实际数据量</p><p>时延：发送时延 + 传播时延 + 处理时延 + 排队时延</p><p>时延带宽积：传播时延 * 带宽</p><p>往返时延：发送方发送完数据 + 发送方接受确认方确认 的总时间</p><p>信道利用率：信道有数据时间 / 总传输时间</p><h2 id="osi-tcp-ip" tabindex="-1">OSI &amp; TCP/IP <a class="header-anchor" href="#osi-tcp-ip" aria-label="Permalink to &quot;OSI &amp; TCP/IP&quot;">​</a></h2><p><img src="/assets/1726648360605.bIrkuj7q.jpg" alt=""></p><h4 id="层结构中的一些概念" tabindex="-1">层结构中的一些概念 <a class="header-anchor" href="#层结构中的一些概念" aria-label="Permalink to &quot;层结构中的一些概念&quot;">​</a></h4><p>实体：在分层结构中，在第n层活动的元素（软、硬件）通称为第n层实体，不同机器上同一层称为<strong>对等层</strong>，同一层的实体称为<strong>对等实体</strong>。</p><p>协议：控制<strong>同层实体</strong>间通讯的规则称为协议，协议是水平的。</p><p>服务：<strong>下</strong>层<strong>为</strong>相邻的<strong>上</strong>层提供的功能调用，服务是垂直的。</p><p>接口：上一层实体通过接口请求下一层实体的服务。</p><h4 id="实体间传输的单元" tabindex="-1">实体间传输的单元 <a class="header-anchor" href="#实体间传输的单元" aria-label="Permalink to &quot;实体间传输的单元&quot;">​</a></h4><p>协议数据单元 PDU：对等层次间传送的数据单位。上一层数据 + 这一层控制信息</p><p>服务数据单元 SDU：对完成上一层实体所要求的功能而传送的数据。上一层的数据</p><p>协议控制单元 PCI：控制协议操作的信息。这一层控制信息</p><h4 id="协议的三要素" tabindex="-1">协议的三要素 <a class="header-anchor" href="#协议的三要素" aria-label="Permalink to &quot;协议的三要素&quot;">​</a></h4><p>语法：数据、控制信息的格式</p><p>语义：需要发出何种控制信息、完成何种动作、做出何种应答</p><p>同步：执行各种操作的条件、时序关系</p><h4 id="标准osi七层" tabindex="-1">标准OSI七层 <a class="header-anchor" href="#标准osi七层" aria-label="Permalink to &quot;标准OSI七层&quot;">​</a></h4><table tabindex="0"><thead><tr><th>层级</th><th>功能</th><th>常见协议</th><th>基本单位</th><th>常见设备/软件</th></tr></thead><tbody><tr><td>应用层</td><td>实现特定的网络应用</td><td>HTTP、DNS、FTP、SMTP</td><td>报文</td><td>微信、浏览器</td></tr><tr><td>表示层</td><td><strong>数据格式转换</strong>：数据编码的转化、压缩解压缩、加解密</td><td></td><td>报文</td><td></td></tr><tr><td>会话层</td><td><strong>会话管理</strong></td><td>SSL、TLS</td><td>报文</td><td>VPN网关</td></tr><tr><td>传输层</td><td>实现端到端的通讯（即不同终端进程（端口）间的通讯）<br><strong>复用和分用</strong>：多个高层实体可复用底层的连接</td><td>TCP、UDP</td><td>报文段</td><td>网关、负载均衡器</td></tr><tr><td>网络层</td><td>分组转发：将报文进行<strong>分组</strong>，并转发出去<br>路由选择：维护路由表，决定分组到达目的地的路径<br>拥塞控制：<br>网际交互：实现异构网络互联<br>其他：差错控制（组的差错检查）、流量控制、链接建立于释放、可靠传输（确认信息）</td><td>IP、ICMP、ARP</td><td>数据报、分组</td><td>路由器</td></tr><tr><td>数据链路层</td><td>将比特流封装成<strong>数据帧</strong> <br>对数据帧进行<strong>差错控制</strong><br><strong>流量控制</strong></td><td>PPP、以太网、VLAN、WLAN</td><td>帧</td><td>网桥：隔离两个网段<br>交换机：隔离多个网段</td></tr><tr><td>物理层</td><td>实现相邻节点间**比特流（光电信号）**的传输</td><td>IEEE820.1、USB 、Bluetooth</td><td>比特</td><td>光纤、双绞线、同轴电缆、中继器、集线器</td></tr></tbody></table><h4 id="实践中的四层tcp-ip" tabindex="-1">实践中的四层TCP/IP <a class="header-anchor" href="#实践中的四层tcp-ip" aria-label="Permalink to &quot;实践中的四层TCP/IP&quot;">​</a></h4><p>并不是所有的应用都需要会话保持、数据格式转换的功能，因此TCP/IP对此进行了精简。若需要会话管理、数据格式转换的功能，使用同样是应用层的特定协议即可。因此TCP/IP精简了会话层，表示层。</p><p>对硬件厂商来说，数据链路层和物理层的分层，降低了灵活性，抬高了成本。因此TCP/IP未对物理层，数据链路层作严格的规定。</p><p>OSI中为保证可靠性，数据链路层、网络层、传输层都存在流量控制、差错控制、连接管理（局部正确 != 全局正确）。TCP/IP则将这些功能交由传输层实现（全局正确 == 局部正确）。同时减少了大量网络层的计算，减少了网络核心设备的负载。</p><table tabindex="0"><thead><tr><th>层级</th><th>功能</th><th></th></tr></thead><tbody><tr><td>应用层</td><td>实现特定的网络应用</td><td></td></tr><tr><td>传输层</td><td>实现端到端的通讯、流量控制、差错控制、连接管理</td><td></td></tr><tr><td>网络层</td><td>把分组从源节点发送至目的节点</td><td></td></tr><tr><td>网络接口层</td><td>实现相邻节点间数据的传输（传输网络层的分组）</td><td></td></tr></tbody></table><h2 id="物理层" tabindex="-1">物理层 <a class="header-anchor" href="#物理层" aria-label="Permalink to &quot;物理层&quot;">​</a></h2><h4 id="信源、信宿、信号、信道" tabindex="-1">信源、信宿、信号、信道 <a class="header-anchor" href="#信源、信宿、信号、信道" aria-label="Permalink to &quot;信源、信宿、信号、信道&quot;">​</a></h4><p>信源：数据发送方</p><p>信宿：数据接收方</p><p>信号：数据的载体。分为数字信号、模拟信号</p><p>信道：信号的通道</p><p>码元：一个信号周期内，可能出现 k 种信号，就是k进制码元。(若存在2种信号可以表示 0 和 1，即2进制码元，若存在 4 种可以表示00 01 10 11 ，即4进制码元)</p><p>​ 波特率：码元/s 比特率：bit/s</p><p>信道的极限容量：</p><p>​ 奈奎斯特定理：无噪声的信道的极限波特率 = $$2W$$(W为波特)；无噪声的信道的极限波特率 = $$ 2W log_2K$$2</p><p>​ 香农定理：信噪比：$$S/N$$ (信号功率/噪声功率) 分贝记法的信噪比：$$10log_{10}S/N$$; 有噪声的极限比特率 = $$Wlog_2(1 + S/N)$$</p><h4 id="编码和调制" tabindex="-1">编码和调制 <a class="header-anchor" href="#编码和调制" aria-label="Permalink to &quot;编码和调制&quot;">​</a></h4><p><img src="/assets/1732020260857.ob9h_1Nu.jpg" alt=""></p><p>数字电路中，对二进制数据的1和0，通常用高低电频来分别表示。有如下几种编码方式：</p><ul><li><p>不归零编码 NRZ：简单的用低0高1表示。</p><p>无自同步（连续的高（低）电频，无法区分</p><p>节省带宽</p><p>抗干扰能力差</p></li><li><p>归零编码 RZ：在每个信号周期中归0，方便区分一个完整的信号周期。</p><p>自同步</p><p>浪费带宽（两个周期表示一位数据</p><p>抗干扰能力差</p></li><li><p>反向非归0编码 NRZI：每个信号周期开始时，若电压跳变的时候表示 0，不跳变则表示 1。</p><p>自同步（增加冗余位，每8个周期增加一个冗余位</p><p>节省带宽</p><p>抗干扰能力差</p></li><li><p>曼彻斯特编码：每个信号周期中间，向电压下跳对应1，上跳表示0</p><p>自同步</p><p>浪费带宽</p><p>抗干扰能力强</p></li><li><p>差分曼彻斯特编码：信号周期开始时，信号跳变则为0，否则表示1</p><p>自同步</p><p>浪费带宽</p><p>抗干扰能力强</p></li></ul><p><img src="/assets/1732021514475.m0Dhb_ho.jpg" alt=""></p><p>模拟电路通过调频、调幅、调相来表示0或1。</p><h4 id="传输介质" tabindex="-1">传输介质 <a class="header-anchor" href="#传输介质" aria-label="Permalink to &quot;传输介质&quot;">​</a></h4><p>有线介质（导向型介质）：</p><table tabindex="0"><thead><tr><th>名称</th><th>组成</th><th>以太网中的命名</th></tr></thead><tbody><tr><td>双绞线</td><td>由两根绞合到一起的线构成，网线便是由4组双绞线组成，（绞合的目的是为了抗电磁干扰。）</td><td>10BaseT*</td></tr><tr><td>同轴电缆</td><td>由内导体+外导体屏蔽层，现已不常见。</td><td>10Base5</td></tr><tr><td>光纤</td><td>由高反射率的纤心和低折射率的包层组成，以实现光信号的全反射，光纤对电磁信号不敏感，抗干扰能力强。</td><td>10BaseF* 2.5Gbps</td></tr></tbody></table><p>无线介质（非导向型介质）：</p><p>波长越长绕射性更好、波长越短指向性越好。</p><table tabindex="0"><thead><tr><th>名称</th><th>组成</th></tr></thead><tbody><tr><td>无线电波</td><td>长波，穿透性强，传输距离长，信号指向性弱。电信基站，wifi信号</td></tr><tr><td>微波</td><td>短波，频率高，指向性强，保密性差。卫星通讯</td></tr></tbody></table><h4 id="设备" tabindex="-1">设备 <a class="header-anchor" href="#设备" aria-label="Permalink to &quot;设备&quot;">​</a></h4><table tabindex="0"><thead><tr><th>名称</th><th>作用</th><th>特性</th></tr></thead><tbody><tr><td>中继器</td><td>用以修正失真的信号，如 0.5-1.5V 为低频信号，4.5-5.5V为高频信号，中继器接受到低频信号，会将其整为1V,再转发。</td><td>半双工通讯</td></tr><tr><td>集线器</td><td>多端口的中继器，将一个端口的信号，广播出去。</td><td>半双工通讯<br>共享带宽</td></tr></tbody></table><h2 id="数据链路层" tabindex="-1">数据链路层 <a class="header-anchor" href="#数据链路层" aria-label="Permalink to &quot;数据链路层&quot;">​</a></h2><h4 id="封装成帧" tabindex="-1">封装成帧 <a class="header-anchor" href="#封装成帧" aria-label="Permalink to &quot;封装成帧&quot;">​</a></h4><p>连续的比特流是不可靠的，将比特流分组，封装成帧，在此基础上我们才可以进行流量控制，差错控制等功能。一个数据帧由头尾控制消息，和数据组成。帧的长度受到MTU（最大传输单元）限制。</p><p>数据帧长度的控制</p><p>​ 字符计数法：头消息中存储数据长度的消息，如 [5,a,b,c,d] [3,1,2]，该方法不可靠，因为当长度信息出错时，会导致后续的帧数据都发生错误。</p><p>​ 字符填充法：用特定的字符表示帧的首尾，SOH，EOT。当数据中存在首位控制信息时，需要加上转义符特殊处理下，防止出错，这种转义处理称为透明传输。</p><p>​ 零比特填充法：同字符填充一样，这里使用01111110表示数据帧的首尾边界。同时为了防止数据碰撞首尾标识，数据中出现连续的5个1则补0，即防止出现连续的6个1。</p><p>​ 违规编码法：如曼彻斯特编码中，每个比特中存在电频的变化，不变化的比特信号是非法的，我们便可以使用非法的信号作为帧的边界。该方法常见。</p><h4 id="差错控制" tabindex="-1">差错控制 <a class="header-anchor" href="#差错控制" aria-label="Permalink to &quot;差错控制&quot;">​</a></h4><p>计算机物理机器，受温度、湿度、电磁干扰等环境的影响，可能发生错误（0变成1，1变成0），这种单比特错误可能导致系统的运行出现问题。为了保证数据的正确性，计算机网络中存在着诸多的差错控制机制。如物理层中，中继器稳定电压的功能，就是一种差错控制的作用。而在数链层中，同样有着差错控制机制，其差错控制是基于编码的，如下：</p><p>检错编码</p><p>​ 奇偶检验法：每n-1位信息后补<strong>一位奇偶信息位</strong>。标识n位数据中有奇数或偶数个1，但当错误&gt;1时，就无法有效校验了。</p><p>​ CRC循环冗余：通讯双方先约定一个多项式，将原数与约定多项式据进行<strong>模二除法的余数</strong>作为校验信息，添加至原数据后。</p><p>纠错编码</p><p>​ 海明码：多比特数据进行<strong>分组</strong>，统计其每一组的奇偶性。数据量为n时，需要 k 位校验码，其中 $$2^k &gt;= 2^n$$ 。校验码插入到源数据中的 0 1 2 4 8 ... 的位置，校验位与其与运算 &gt;0 的数据位于同一组，值为奇偶校验的结果。</p><h4 id="流量控制" tabindex="-1">流量控制 <a class="header-anchor" href="#流量控制" aria-label="Permalink to &quot;流量控制&quot;">​</a></h4><p>计算机处理数据的性能存在着差异，当一个性能强的机器发出的数据量，超过了接收方的处理能力时，就可能出现数据异常的情况，为此，数链层提供了<strong>点到点的流量控制</strong>机制。</p><p>停止等待协议：</p><p>发送方的发送队列长度只有一，发完一帧数据后，等待接受方的确认帧，再发送下一帧。</p><p>GBN协议：</p><p>发送的队列长度为n，可以连续发送队列内的数据，接收方可以合并多个帧的确认帧（累计确认），但同时带来了新的问题，当数据帧丢失时，会发生批量重传。</p><p>选择重传协议（SR）：</p><p>GBN协议中发生帧丢失时，后续的帧被丢弃，SR为接收方也设置了一个窗口，</p><h4 id="信道划分-介质访问控制" tabindex="-1">信道划分 介质访问控制 <a class="header-anchor" href="#信道划分-介质访问控制" aria-label="Permalink to &quot;信道划分 介质访问控制&quot;">​</a></h4><p>介质访问控制即，采取一定的手段，使得多节点在竞争信道资源时不会互相影响。</p><ul><li>介质访问控制 <ul><li>静态介质访问控制：共享信道的空间或时间。 <ul><li>频分多路复用 FDM：将带宽划分为不同频道的子信道，每个子信道可以并行传输信号。</li><li>时分多路复用 TDM：两个以上的信号，轮流使用物理信道。</li><li>统计时分多路复用 STDM：在TDM的基础上，按照需求，动态分配时段。</li><li>波分多路复用 WDM：波长的不同的光信号，互不干扰。</li><li>码分多路复用 CDM：将多个信道的数据混到一起运输，到达后再分开。</li></ul></li><li>动态介质访问控制：不共享信道的时间空间。 <ul><li>随机访问介质控制 <ul><li>ALOHA协议：随机发送，发送方接受不到ack帧，就是可能发生冲突，需要重传。</li><li>CSMA协议：监听信道是否空闲，空闲则直接发送，否则延迟。检测存在延迟，可能发生冲突。</li><li>CSMA/CD协议：CSMA的基础上，增加碰撞检测，发生碰撞后第t次后则在 $$[0,...,2^{t-1}]$$ 范围内随机间隔后重发。 <ul><li>最小帧问题：若发送碰撞，需要阻断继续发送，但如果帧数据过小，可能阻断前就发送完了，因此以太网规定了最小帧64B</li></ul></li><li>CSMA/CA协议：CSMA/CD是用于有线局域网的，发送方在信道空闲时发送请求发送帧，接收方响应接受帧，发送方再发送数据。</li></ul></li><li>轮询访问介质控制：静态介质访问控制不能独享带宽，随机访问介质控制可能发送冲突。 <ul><li>令牌传递协议：环状网中，令牌由专门的信息块组成，需要发送消息的节点，需要持有令牌，发送完数据再放回环中。（令牌可能在传输中破损，导致所有节点无法发送消息）</li><li>轮询协议：需要设置主节点，主节点邀请从节点发送。</li></ul></li></ul></li></ul></li></ul><h4 id="以太网" tabindex="-1">以太网 <a class="header-anchor" href="#以太网" aria-label="Permalink to &quot;以太网&quot;">​</a></h4><p>以太网是一种局域网技术，由于其造价低廉，现已在各种局域网技术中占据统治地位。</p><p>特点：</p><ul><li><p>以太网使用CSMA/CD技术。</p></li><li><p>无连接：接收方、发送方无握手过程</p></li><li><p>不可靠：不对发送的数据编号，差错帧直接丢弃，差错控制交由上层控制。</p></li><li><p>网络拓扑结构为星形</p></li><li><p>采用曼彻斯特编码</p></li><li><p>局域网中硬件设备的地址称为物理地址或MAC地址。</p><p>全球唯一的48位二进制地址</p><p>MAC帧：8B前导码（7B同步码+1B帧开始定界符） + 64B数据码（ 6位目的地址+6位源地址+2位类型+46-1500位数据报文+4位FCS(CRC) ）</p></li></ul><h4 id="无线局域网" tabindex="-1">无线局域网 <a class="header-anchor" href="#无线局域网" aria-label="Permalink to &quot;无线局域网&quot;">​</a></h4><p>无线局域（WLAN）网在局部区域内以无线电作为传输介质通讯的网络。</p><p>特点：</p><ul><li><p>MAC帧：</p><p>6 + 6 + 2 + 46-1500 + FCS</p><p>目的地址 + 源地址 + 类型 + 数据 + FCS</p></li></ul><h4 id="vlan" tabindex="-1">VLAN <a class="header-anchor" href="#vlan" aria-label="Permalink to &quot;VLAN&quot;">​</a></h4><p>在传统局域网技术中，有诸多局限性，如：缺乏流量管理，广播流量会跨越整个网络；用户的管理不方便，需要改变物理线路布局；路由成本高。VLAN虚拟局域网技术可以解决了以上的问题。</p><p>特点：</p><ul><li><p>交换机上，存有终端设备的MAC地址和端口的映射表。VLAN的实现，需要交换机额外存储一张VLAN ID与端口的映射表。</p></li><li><p>VLAN之间需要借助三层交换机或路由器实现互相访问。</p></li><li><p>VLAN帧：MAC地址的基础上添加 VLAN 帧</p><p>6 + 6 + 4 + 2 + 46-1500 + FCS</p><p>目的地址 + 源地址 + VLAN标记 + 类型 + 数据 + FCS</p></li></ul><h4 id="ppp协议" tabindex="-1">PPP协议 <a class="header-anchor" href="#ppp协议" aria-label="Permalink to &quot;PPP协议&quot;">​</a></h4><p>PPP协议点对点协议，是目前最广泛的广域网数据链路层协议。</p><p>特点：</p><ul><li><p>将IP数据报封装到串行的链路当中</p></li><li><p>身份验证：链路控制协议LCP</p></li><li><p>实现网络层的连接：网络控制协议NCP</p></li><li><p>PPP帧：</p><p>1 + 1 + 1 + 2 + 1-1500 + 2 + 1</p><p>定界符 + 占位 + 占位 + 协议 + 信息内容 + FCS + 定界符</p></li></ul><h2 id="网络层" tabindex="-1">网络层 <a class="header-anchor" href="#网络层" aria-label="Permalink to &quot;网络层&quot;">​</a></h2><h4 id="路由选择与分组转发" tabindex="-1">路由选择与分组转发 <a class="header-anchor" href="#路由选择与分组转发" aria-label="Permalink to &quot;路由选择与分组转发&quot;">​</a></h4><h4 id="异构网络互联" tabindex="-1">异构网络互联 <a class="header-anchor" href="#异构网络互联" aria-label="Permalink to &quot;异构网络互联&quot;">​</a></h4><h4 id="ip协议" tabindex="-1">ip协议 <a class="header-anchor" href="#ip协议" aria-label="Permalink to &quot;ip协议&quot;">​</a></h4><ul><li><p>IP协议是用于将多个分组交换网络连接起来的最典型的协议，一个IP数据包包括。数据平面、控制平面</p><ul><li><p>控制平面包含具体的控制协议 RIP OSTP 等</p><p>​ 应用平面：路由选择 复杂均衡</p><p>​ ↕ 北向接口</p><p>东西接口 ↔ 控制平面： SDN控制器</p><p>​ ↕ 南向接口 openflow协议</p><p>​ 数据平面：路由转发</p></li></ul></li></ul><h4 id="拥塞控制" tabindex="-1">拥塞控制 <a class="header-anchor" href="#拥塞控制" aria-label="Permalink to &quot;拥塞控制&quot;">​</a></h4><ul><li>ICMP</li></ul><h4 id="ipv4" tabindex="-1">IPv4 <a class="header-anchor" href="#ipv4" aria-label="Permalink to &quot;IPv4&quot;">​</a></h4><ul><li></li><li><p>ip分组格式 4 +</p></li><li><p>辅助协议</p><ul><li>ARP：ip地址到mac的转换</li><li>RARP：淘汰</li><li>DHCP：自动分配IP 。四次交换 DHCP发现 → DHCP提供 → DHCP请求 → DHCP确认</li><li>ICMP <ul><li>差错报告 <ul><li>终点不可达：</li><li>源点异质：</li><li>超时：规定时间内没有收到所有的分片</li><li>重定向：网络中有更多的</li></ul></li><li>询问报告 <ul><li>回送请求：</li><li>时间戳：追踪路由</li></ul></li></ul></li></ul></li><li><h4 id="ipv6-解决ipv4地址耗尽的问题" tabindex="-1">IPv6：解决IPv4地址耗尽的问题 <a class="header-anchor" href="#ipv6-解决ipv4地址耗尽的问题" aria-label="Permalink to &quot;IPv6：解决IPv4地址耗尽的问题&quot;">​</a></h4><ul><li>和IPv4的区别 <ul><li>地址长为10B。零压缩连续的0用 :: 双冒号表示</li><li>取消首部长度，设为定长</li><li>去除分片</li><li>取消检验和</li></ul></li><li>兼容 <ul><li>双协议栈</li><li>隧道</li><li>首部转换</li></ul></li></ul></li><li><p>路由算法</p><table tabindex="0"><thead><tr><th></th><th>RIP</th><th>OSPF</th><th>BGP</th></tr></thead><tbody><tr><td>交换信息</td><td>全量路由信息</td><td>变化信息</td><td>变化信息</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td>流程</td><td>和相邻路由器，定时交换。路由代价为简单的跳数，最大16跳。</td><td>交换增量信息，交换的路由信息会在网络中dfs遍历。洪泛网络会自动划分子网，迪杰斯特拉求最短路</td><td>只交换增量信息，</td></tr></tbody></table></li></ul><h4 id="" tabindex="-1"><a class="header-anchor" href="#" aria-label="Permalink to &quot;&quot;">​</a></h4><p>网络层将数据报文进行分组，按照路由协议传输分组数据。路由协议是路由实现的核心机制之一，它确保了</p><p>​</p><h4 id="设备-1" tabindex="-1">设备 <a class="header-anchor" href="#设备-1" aria-label="Permalink to &quot;设备&quot;">​</a></h4><p>路由器 <img src="/assets/1732168730002.lWTFZvRg.jpg" alt=""></p><h2 id="传输层" tabindex="-1">传输层 <a class="header-anchor" href="#传输层" aria-label="Permalink to &quot;传输层&quot;">​</a></h2><h4 id="复用分用" tabindex="-1">复用分用 <a class="header-anchor" href="#复用分用" aria-label="Permalink to &quot;复用分用&quot;">​</a></h4><p>计算机中运行着许多进程，不可能所有应用都去实现网络层的功能，传输层提供了复用分用技术，向两个主机进程之间的通信提供通用的数据传输服务。</p><p>发送方应用进程通过 TCP复用器 or UDP复用器 将数据封装成ip报文，在网络中传输，接受方接收到ip报文后将报文进行拆解，通过 TCP分用器 or UDP分用器将数据传到对应的接收端口，实现端到端的数据传输。</p><p>TCP UDP的通过端口号区分</p><ul><li>端口号 <ul><li>服务器使用的端口号 <ul><li>熟知端口号 0 - 1023 端口对应的服务是有严格标准的，如 443-https 50-DNS 22-SSH</li><li>登记端口号 1024 - 49152（2^16 - 2^14 - 1） 为软件厂商和开发组织预留的端口，需要申请</li></ul></li><li>客户端使用的端口号 49153 - 65535 (2^16 - 1) 操作系统为客户端应用自动分配的端口</li></ul></li></ul><h4 id="udp" tabindex="-1">UDP <a class="header-anchor" href="#udp" aria-label="Permalink to &quot;UDP&quot;">​</a></h4><p>用户数据报协议（User Datagram Protocol），是一种无连接的、不可靠的、面向报文的协议。</p><p>特点</p><ul><li><p>面向<strong>无连接</strong>的不可靠的传输层协议。</p></li><li><p>不具备流量控制、拥塞控制、重传的机制。</p></li><li><p>可以实现 1对1 1对n n对n的数据传输。</p></li><li><p>首部8字节。</p></li></ul><p><img src="/assets/1732843370764.oqcfIUSI.jpg" alt=""></p><h4 id="tcp" tabindex="-1">TCP <a class="header-anchor" href="#tcp" aria-label="Permalink to &quot;TCP&quot;">​</a></h4><p>传输控制协议（Transmission Control Protocol），是一种面向连接的、可靠的、基于字节流的协议。</p><p>特点</p><ul><li><p>面向<strong>连接</strong>的可靠的传输层协议。</p><ul><li>超时重传</li><li>确认机制</li><li>面向字节</li></ul></li><li><p>只能实现 1对1 的数据传输。</p></li><li><p>首部 20 - 64字节。</p></li></ul><p><img src="/assets/1732843327250.Cb84SrLS.jpg" alt=""></p><ul><li><p>流量控制</p><ul><li>超时重传</li></ul></li><li><p>拥塞控制</p><ul><li>满开始，指数增加发送的数据量，当一个时间窗口内发送确认帧丢失的时候，说明发生拥塞了，将在数据量减至一半。</li></ul></li><li><p>3次握手建立连接</p><ol><li>→ SYN=1，seq=x</li><li>← SYN=1，ACK=1 ，ack=x+1 ，seq=y</li><li>→ ACK=1，ack=y+1，seq=x+1</li></ol></li><li><p>4次挥手释放连接</p><ol><li>→ FIN=1，seq=u</li><li>← ACK=1，seq=v，ack=u+1 （服务端可能还有未处理完的数据需要发送给客户端，所有服务端没有立刻发起断开请求）</li><li>← FIN=1，ACK=1，seq=w，ack=u+1</li><li>→ ACK=1，seq=u+1，ack=w+1</li></ol></li><li><p>保活机制 keepalive</p><ul><li>建立TCP连接的双方长时间无数据交互，触发保活机制，TCP发送探测报文，若有响应则刷新保活时间，若无响应则断开连接。</li></ul></li></ul><h2 id="应用层" tabindex="-1">应用层 <a class="header-anchor" href="#应用层" aria-label="Permalink to &quot;应用层&quot;">​</a></h2><p>为网络层提供的服务</p><p>链路管理</p><p>流量控制</p><p>差错控制</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/frontend/TS.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>TypeScript</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/network/http.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>HTTP</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><!----><p class="copyright" data-v-e315a0ad>© 2025 github@user-9902</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"engineering_cicd.md\":\"BCyT2Zs2\",\"engineering_design_patterns.md\":\"Bvnc1m4-\",\"engineering_docker.md\":\"ClWO4jdm\",\"engineering_git.md\":\"BgspPrVQ\",\"engineering_k8s.md\":\"Cnq3tvam\",\"engineering_nginx.md\":\"DHwvgOIH\",\"engineering_设计题.md\":\"ZMRHNG0x\",\"for_interview_outof_code.md\":\"BHwxwlSk\",\"frontend_css.md\":\"6-Z8Vj2Q\",\"frontend_html.md\":\"CnzFeNuB\",\"frontend_js.md\":\"NtYbo7TM\",\"frontend_nodejs.md\":\"Co4IAwC_\",\"frontend_react.md\":\"CVfzgd5d\",\"frontend_ts-typechallenge.md\":\"DnE-9lRR\",\"frontend_ts.md\":\"DrT3emP6\",\"frontend_vue.md\":\"D6tXu_wd\",\"frontend_前端工程化.md\":\"CRtZPGFZ\",\"harmony_os_harmonyos.md\":\"DpGxSOVe\",\"index.md\":\"Ci0PCsI5\",\"network_dns.md\":\"BANf57UA\",\"network_http.md\":\"C5C-h2fl\",\"network_netsafe.md\":\"g9qEPhS-\",\"network_network.md\":\"CJK2TmXb\",\"network_tcp.md\":\"RmOZlGhy\",\"os_os.md\":\"BUc0ZbCe\",\"overview_readme.md\":\"BcAIRBtV\",\"其他_math.md\":\"Djt3fM2X\",\"其他_技巧.md\":\"CHwOLeMO\",\"后端_spring.md\":\"vJKSyO_j\",\"后端_后端.md\":\"CeyEa0VA\",\"数据结构_算法_python.md\":\"vUJRCKX-\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"DOCS\",\"description\":\"this is docs by user-9902\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"search\":{\"provider\":\"local\"},\"lastUpdated\":{\"text\":\"更新时间\"},\"outline\":{\"label\":\"文章目录\",\"level\":[1,3]},\"nav\":[{\"text\":\"首页\",\"link\":\"/index\"},{\"text\":\"文档\",\"link\":\"/overview/readme\"}],\"sidebar\":[{\"text\":\"Overview\",\"items\":[{\"text\":\"说明\",\"link\":\"/overview/readme\"}]},{\"text\":\"前端\",\"items\":[{\"text\":\"HTML\",\"link\":\"/frontend/HTML\"},{\"text\":\"CSS\",\"link\":\"/frontend/CSS\"},{\"text\":\"JS in Web\",\"link\":\"/frontend/JS\"},{\"text\":\"TypeScript\",\"link\":\"/frontend/TS\"}]},{\"text\":\"计算机网络\",\"items\":[{\"text\":\"network\",\"link\":\"/network/network\"},{\"text\":\"HTTP\",\"link\":\"/network/http\"},{\"text\":\"DNS\",\"link\":\"/network/DNS\"},{\"text\":\"网安\",\"link\":\"/network/Netsafe\"}]},{\"text\":\"工程化\",\"items\":[{\"text\":\"Git\",\"link\":\"/engineering/git\"},{\"text\":\"Nginx\",\"link\":\"/engineering/nginx\"},{\"text\":\"Docker\",\"link\":\"/engineering/docker\"}]},{\"text\":\"面经\",\"items\":[{\"text\":\"设计模式\",\"link\":\"/for_interview/design_patterns\"},{\"text\":\"Out of 01\",\"link\":\"/for_interview/outof01\"}]}],\"footer\":{\"copyright\":\"© 2025 github@user-9902\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>