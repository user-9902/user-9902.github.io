# Operating System



### 定义

计算机由硬盘、内存条、cpu、输入输出设备（网卡、扬声器、显示器、鼠标键盘）等硬件组成，为了使得这些硬件资源的利用更高效、更易用、需要一个管理这些资源的角色。扮演这个角色的便是操作系统。

![层次结构](https://i-blog.csdnimg.cn/blog_migrate/b042751bd301bb4b924c4ad8b0b6f5f3.png)



### 第一个程序

操作系统是电脑中启动的第一个程序。







任务进程响应比：（等待时间+运行时间）/ 运行时间



SJF调度算法

​	短作业优先

​	最短剩余时间优先





单工：通讯双方，一方只发送，一方只接收。（如：电视，广播）

半双工：通讯双方都可以发送和接受，但同一时间只允许一方发送，一方接受。（如：对讲机）

全双工：通讯双方可同时即发送数据又接受数据。（如：电话）



PV操作

PV操作是操作系统中用于进程同步和互斥的一种机制，涉及两个基本操作 P操作和V操作、以及一个重要概念信号量

信号量：信号量是一个非负整数变量，用于控制对共享资源的访问，它可以被视为可用资源的计数器。当信号量的值大于零时，表示有可用资源；当值小于或等于零时，表示没有可用资源，进程需要等待。

P操作：P操作是对信号量的减操作（S=S-1）。

V操作：V操作是对信号量的加操作（S=S+1）。





## 进程



### 进程、线程、协程

进程：操作系统以进程为最小单位分配系统资源（内存、CUP时间片），进程有自己独享的内存空间，堆空间。

线程：线程是进程内的基本执行单位，是操作系统能够进行运算调度的最小单位，一个进程可以包含多个线程，这些线程共享进程的资源。

协程：协程是一种用户态的轻量级线程，它允许在不同任务间主动让出执行权（yield），而不是像线程那样由操作系统强制调度。





### 进程间通讯

##### 为什么需要进程间通讯

有些复杂的程序，需要多个进程共同完成某项任务，这就需要进程之间的通信和数据访问。这使得整个系统的并行性能和内存安全得到了提升。

##### 进程间通讯的定义

进程的用户空间是互相独立的，一般而言进程间是不能互相访问的。当然进程可以通过数据库（磁盘）、注册表（共享系统空间）实现广义上的通讯，但一般情况下进程间通讯指的是操作系统提供的一组标准的编程接口，包括：管道（PIPE）、消息队列、信号、共享存储、套接字（Socket）。

##### 管道

现实世界中，资源从一个管道流出，再从另一个管道流入。

##### 匿名管道

匿名管道只用于有继承关系的进程，因为匿名，非继承关系的进程无法找到这个管道，也就无法完成通信。

##### 命名管道

##### 消息队列

##### 共享内存

每个进程都有自己的虚拟地址，将不同进程的虚拟地址映射到相同的物理地址，就是共享内存的实现方式。









### 内存

缓冲区：缓冲区是内存空间的一部分，这些空间用来缓冲输入或输出的数据，用来平衡设备间数据处理速度的差异。

缓冲区的类型：

- 全缓冲：填满标准I/O缓存后才进行实际I/O操作，如磁盘读写
- 行缓冲：当输入输出中遇见换行符时，执行真正的I/O操作，如键盘输入数据
- 不带缓冲：不进行缓冲，



### 杂项

#### windows PID 是什么？

进程序id 非端口id





#### windows dll文件的作用？

dll 动态链接库。windows 系统中的关键组件，它们包含代码、函数或资源，允许多个应用程序在运行时共享这些库中的信息，从而提高内存管理效率和节约磁盘空间。